<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 04</title>
  </head>
<body>

  <label><textarea id="num-input" rows="3" cols="10"></textarea></label>
  <button id="left-in">左侧入</button>
  <button id="right-in">右侧入</button>
  <button id="left-out">左侧出</button>
  <button id="right-out">右侧出</button>
  <label><input id="search-input" type="text"></label>
  <button id="search-btn">搜索</button>
  <div id="sort-display"></div>

<script type="text/javascript">

  const $ = el => document.querySelector(el);
  const $$ = el => document.querySelectorAll(el);

  // 渲染数组
  function render(data) {
    $('#sort-display').innerHTML = data.map(x => `<a style="color: red;">${x}</a>`).join(' ');
  }

  // 定义存储对象
  let data = [];

  // 输入事件
  $('body').addEventListener('click', (e) =>{
    let splitReg = /\s|、|,|，/;
    // let matchReg = /[^A-Za-z0-9\u4E00-\u9FFF]/;
    let inputVal = $('#num-input').value.trim();
    let correctInputVal = inputVal.split(splitReg);
    // console.log(correctInputVal);
    if(e.target.nodeName === 'BUTTON') {
      switch (e.target.id) {
        case 'left-in':
          data = [...correctInputVal, ...data];
          break;
        case 'right-in':
          data = [...data, ...correctInputVal];
          break;
        case 'left-out':
          alert(data.shift());
          break;
        case 'right-out':
          alert(data.pop());
          break;
        default:
          console.log('haha!');
          break;
      }
      render(data);
    }
    $('#num-input').value = '';
  })

  $('#search-btn').addEventListener('click', () => {
  })

</script>
</body>
</html>